import { etagIfNoneMatch } from 'shared/etag-if-none-match.js'

const notFound = {
	status: 404,
	body: {
		// TODO error
	}
}

export const routes = {
	path: '/:accountId',
	methods: {
		GET: async (request, { accountId }, service) => {
			const account = await service.getAccount(accountId.toUpperCase())
			return account
				? etagIfNoneMatch(request, { data: account })
				: notFound
		}
	}
}
